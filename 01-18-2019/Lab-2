
// Example with Jenkins Pipeline Jobs
// Simply create Jenkins Pipeline Jobs and Add the below groovy script and customize it as per the requirement.

node () {
   stage('Clone') {
       checkout([$class: 'GitSCM', branches: [[name: 'docker']], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: ‘<id>', url: ‘<git-url>']]])
   }
   
   stage('Build & Package') {
       sh 'mvn package install -Dmaven.test.skip=true -U -f <pom.xml-path>’
        }
   }
   
   stage('Docker Build Image & Tag') {
        sh 'docker build -t localhost:5000/<service-name-1> -f <path-of-Dockerfile>'
        sh 'docker push localhost:5000/<service-name-1>’
        sh 'docker rmi localhost:5000/<service-name-1> --force'
   }
}

// 127.0.0.1 or localhost
